@()

@import helper._
@authenticated = @{util.permission.Identity.isAuthenticated()}
@import model.training.Workout.ResultMeasurementType
@import util.format.DateTimeFormatter

@main("journal") {

	<div class="portlet">

        <h3 class="portlet-title">
          <u>Personal Records</u>
        </h3>
        
        @if(authenticated) {
			<a href="@routes.PersonalRecordController.create()"> <button class="btn btn-primary">New <span class="glyphicon glyphicon-plus"></span></button></a>
		}

        <div class="portlet-body">

          	<table id="recordsTable" class="table table-striped table-bordered dataTable" aria-describedby="table-1_info">
	            <thead>
	              <tr role="row">
	              	<th style="width: 325px;" class="sorting_asc" role="columnheader" tabindex="0" aria-controls="recordsTable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Name">Name</th>
	              	<th style="width: 211px;" class="sorting" role="columnheader" tabindex="0" aria-controls="recordsTable" rowspan="1" colspan="1" aria-label="Date">Date</th>
	              	<th style="width: 188px;" class="sorting" role="columnheader" tabindex="0" aria-controls="recordsTable" rowspan="1" colspan="1" aria-label="Result">Result</th>
              	  </tr>
	            </thead>
	            
          		<tbody role="alert" aria-live="polite" aria-relevant="all" />
          	</table>
          </div>

    </div> <!-- /.portlet-body -->

	
	<script type="text/javascript">
	$(function() {
		  var table_1 = $('#recordsTable').dataTable ({
		    "sAjaxSource": jsRoutes.controllers.PersonalRecordController.fetch().url,
		    "aoColumns": [
		      { "mData": "name" },
		      { "mData": "date" },
		      { "mData": "result" }
		    ],
		    "fnInitComplete": function(oSettings, json) {
		      $(this).parents ('.dataTables_wrapper').find ('.dataTables_filter input').prop ('placeholder', 'Table Search...').addClass ('form-control input-sm')
		    }
		  })
		})
	</script>
}

            