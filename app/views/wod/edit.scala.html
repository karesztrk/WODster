@(id: Long, postForm: Form[model.training.Workout])

@import helper._

@implicitFieldConstructor = @{ FieldConstructor(component.bootstrapInput.render) }

@main("wod") {    
   
    <h1>Edit a workout</h1>
    
    @form(routes.WODController.update(id), 'name -> "postForm", 'onsubmit -> "loadVal();") {
	
		@inputText(postForm("title"), '_label -> "Title", 'type -> "title", 'class -> "form-control")
		
		@component.toolbar()
		<div contenteditable="true" id="editor" >@Html(postForm("content").value)</div>
		@textarea(postForm("content"), '_label -> null, 'id -> "content", 'type -> "content", 'placeholder -> "Compose your WOD...", 'style -> "display:none;")
		
		<div class="actions"> 
			<button type="submit" class="btn btn-primary">Update</button>
			<a href="@routes.WODController.list()"> <button class="btn btn-default">Cancel</button></a> 
		</div>
	}
	
	<script src="@routes.Assets.at("javascripts/init-editor.js")" type="text/javascript" ></script>
	
	<script type="text/javascript">
		function loadVal(){
			var desc = $("#editor").html();
			document.postForm.content.value = desc;
		}
	</script> 
}