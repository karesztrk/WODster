@(postForm: Form[model.training.Workout])

@import helper._
@import model.training._
@resultOptions = @{options(ResultMeasurementType.TIME.getValue() -> "Time based", ResultMeasurementType.REPETITION.getValue()->"Rep based")}
@categories = @{options(Category.SINGLET.getValue() -> "Singlet", Category.COUPLET.getValue() -> "Couplet", Category.TRIPLET.getValue() -> "Triplet",
                Category.EMOM.getValue() -> "EMOM", Category.CHIPPER.getValue() -> "Chipper", Category.AMRAP.getValue() -> "AMRAP")}

@implicitFieldConstructor = @{ FieldConstructor(component.bootstrapInput.render) }

@styleExtra = {}

@scriptExtra = {
    <script src="@routes.Assets.at("javascripts/bootstrap-wysiwyg.js")" type="text/javascript" ></script>
	<script src="@routes.Assets.at("javascripts/jquery.hotkeys.js")" type="text/javascript" ></script>
    <script src="@routes.Assets.at("javascripts/init-editor.js")" type="text/javascript" ></script>

    <script type="text/javascript">
		function loadVal(){
			var desc = $("#editor").html();
			document.postForm.content.value = desc;
		}
	</script>
}

@main("wod", styleExtra, scriptExtra) {
    
    <div class="row">
    	<div class="col-md-10 col-md-push-1 col-sm-8 col-sm-push-2">
    		<div class="portlet">
			    <h2 class="portlet-title"><u>Add a workout</u></h2>
			    <div class="portlet-body">
				    @form(routes.WODController.save, 'name -> "postForm", 'onsubmit -> "loadVal();", 'enctype -> "multipart/form-data") {
					
						@inputText(postForm("title"), '_label -> "Title", 'type -> "text", 'class -> "form-control")
						
						@checkbox(postForm("hero"), '_label -> "Hero", 'type -> "checkbox")
						
						@checkbox(postForm("personal"), '_label -> "Personal", 'type -> "checkbox", 'class -> "ui-tooltip", Symbol("data-placement") -> "top", Symbol("data-toggle") -> "tooltip", Symbol("data-original-title") -> "Would you like to hide this workout?", 'title -> "")
						
						@select(postForm("resultType"), resultOptions , '_label -> "Type", 'class -> "form-control")

                        @select(postForm("category"), categories , '_label -> "Category", 'class -> "form-control")
						
						@component.toolbar()
						<div contenteditable="true" id="editor" ></div>
					    @textarea(postForm("content"), '_label -> null, 'id -> "content", 'type -> "content", 'placeholder -> "Compose your WOD...", 'style -> "display:none;")
						@inputFile(postForm("image"), '_label -> "Image", 'type -> "image", '_help -> "(Optional) Add an image to you WOD to be displayed")
						
						<div class="actions"> 
							<input type="submit" value="Save" class="btn btn-primary">
							<a href="@routes.WODController.list()" class="btn btn-default">Cancel</a> 
						</div>
						
					}
				</div>
			</div>
		</div>
	</div>

}